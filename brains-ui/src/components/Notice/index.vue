<template>
  <div v-if="errorLogs.length>0">
    <el-badge :value="1" style="line-height: 30px;" @click.native="dialogTableVisible=true">
      <el-button size="small" style="font-size:20px;background-color:transparent;color:#fff;border:0" class="bug-btn">
          <svg t="1528789267091" class="notice-svg" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="17900" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M692.536187 310.158992c-3.150892-8.389064-9.48747-15.20326-17.551461-18.888186-6.601625-3.705392-14.417966-5.313006-22.445117-4.045129-19.093648 3.006474-32.117813 21.087271-29.074373 40.382733 1.722297 10.927887 8.228751 19.894096 17.01011 25.080212 33.708098 36.066427 54.456502 84.375689 54.456502 137.653103 0 58.293661-24.858174 110.659309-64.382988 147.531078-7.329227 6.325056-11.974208 15.668865-11.974208 26.103518 0 19.040658 15.435175 34.475186 34.477656 34.475186 9.745354 0 18.536947-4.050246 24.810077-10.556427 6.692703-3.882424 11.909737-10.027377 14.67278-17.407462 43.194544-47.705512 69.744315-110.718661 69.744315-180.146916C762.280502 420.898119 735.729708 357.90032 692.536187 310.158992L692.536187 310.158992zM813.147094 184.414103c-5.730755-11.675924-17.736687-19.715017-31.624559-19.715017-19.444657 0-35.208328 15.765055-35.208328 35.214013 0 12.767791 6.786852 23.944342 16.956895 30.116925 59.674559 62.445214 96.523315 146.868999 96.523315 240.063541 0 104.344486-46.17556 197.718107-118.963315 261.451664l0.133035 0.158612c-11.422623 5.668093-19.275805 17.445324-19.275805 31.05632 0 19.141966 15.51602 34.655288 34.658789 34.655288 11.368386 0 21.458608-5.471618 27.778813-13.928221 0.308028-0.361227 0.610939-0.727571 0.901571-1.098008l0.091078 0.085958c86.999005-76.142168 142.224042-187.692776 142.224042-312.381613C927.347743 359.331925 883.803213 258.868839 813.147094 184.414103L813.147094 184.414103zM442.674235 124.57218 269.534816 301.712623 164.010122 301.712623c-45.146071 0-67.352748 24.305569-67.352748 67.366294l0 224.478588c0 42.354644 22.912787 67.37141 67.352748 67.37141l105.525718 0 173.138396 177.12407c49.749096 46.719044 125.453396 26.130124 125.453396-51.438533L568.127631 175.99434C568.126607 97.625458 491.478779 78.834486 442.674235 124.57218L442.674235 124.57218zM500.77386 752.111636c0 50.993394-22.604759 22.402219-45.797945-0.487094-40.431502-39.900755-101.511119-104.377232-151.722768-158.067039l-94.342558 0c-34.136881 0-44.901491-11.44875-44.901491-44.899606L164.009098 413.967266c0-32.746822 11.468674-44.889373 44.901491-44.889373l95.393538 0c49.949672-53.978379 110.435747-118.337175 150.841665-157.876704 22.933254-22.439058 45.628069-51.67594 45.628069 1.416256C500.77386 322.301544 500.77386 644.639926 500.77386 752.111636L500.77386 752.111636zM500.77386 752.111636" p-id="17901"></path></svg>
      </el-button>
    </el-badge>

    <el-dialog title="Error Log" :visible.sync="dialogTableVisible" width="80%">
      <el-table :data="errorLogs" border>
        <el-table-column label="Message">
          <template slot-scope="scope">
            <div>
              <span class="message-title" style="padding-right: 10px;">Info: </span>
              <el-tag type="warning">{{scope.row.info}}</el-tag>
            </div>
            <br/>
            <div>
              <span class="message-title" style="padding-right: 16px;">Url: </span>
              <el-tag type="success">{{scope.row.url}}</el-tag>
            </div>
          </template>
        </el-table-column>
        <el-table-column label="Stack">
          <template slot-scope="scope">
            {{ scope.row.stack}}
          </template>
        </el-table-column>
      </el-table>
    </el-dialog>

  </div>
</template>

<script>
export default {
  name: 'Notice',
  data() {
    return {
      dialogTableVisible: false
    }
  },
  computed: {
    errorLogs() {
      let notice = [{
        info: '111',
        url: '222',
        stack: '333'
      },{
        info: '111',
        url: '222',
        stack: '333'
      }]
      //console.log(notice)
      return notice
    }
  }
}
</script>

<style scoped>
.bug-btn.el-button--small {
  padding: 9px 10px;
}
.notice-svg {
  width: 1em;
  height: 1em;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}
.message-title {
  font-size: 16px;
  color: #333;
  font-weight: bold;
  padding-right: 8px;
}
</style>
